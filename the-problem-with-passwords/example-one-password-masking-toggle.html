<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Password Field Example 1: Toggle Control</title>
    <style type="text/css">
      body {
        font-family: helvetica,arial,sans-serif;
        background: #e9e0cc;
        width: 40em;
        margin: 2em auto;
      }
      h1, h2 {
        margin: 0;
      }
      h2 {
        color: #654;
        border-top: 4px solid #aa9;
        padding-top: 4px;
      }
      form {
        margin: 2em 0;
        padding: 1em;
        border: 10px solid #c9c0bb;
        background: #f0e9dd;
      }
    </style>
    <script type="text/javascript">
    //<![CDATA[
      window.onload = function() {
        if(document.getElementsByTagName) {
          var inputs = document.getElementsByTagName('input');
          for(var i in inputs) {
            var input = inputs[i];
            if(input.type == 'password') {
              toggle_control = document.createElement('label');
              toggle_control.innerHTML = "<input type=\"checkbox\" "+
                                         "onclick=\"toggle_password('"+
                                         input.id+"',this.checked)\" />"+
                                         " Show password";
              input.parentNode.insertBefore(toggle_control, input.nextSibling);
            }
          }
        }
      }
    
      function toggle_password(element_id, show_text) {
        if(document.getElementById) {
          var password_input = document.getElementById(element_id);
          var new_input      = document.createElement('input');
          with(new_input) {
            id        = password_input.id;
            name      = password_input.name;
            value     = password_input.value;
            size      = password_input.size;
            className = password_input.className;
            type      = show_text ? 'text' : 'password';
          }
          password_input.parentNode.replaceChild(new_input,password_input);
        }
      }
    //]]>
    </script>
  </head>
  <body>
    <h1>Password Field Example 1</h1>
    <h2>Toggle Control</h2>
    <form action="">
      <label for="the_password">Please enter your password:</label>
      <input type="password" name="the_password" id="the_password" />
    </form>
  </body>
</html>